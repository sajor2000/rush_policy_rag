# =============================================================================
# RUSH Policy RAG - Environment Configuration Template
# =============================================================================
# Copy this file to .env and fill in your actual values
# Never commit .env to version control!

# =============================================================================
# AZURE AI SEARCH (required)
# =============================================================================
SEARCH_ENDPOINT=https://your-search-service.search.windows.net
SEARCH_API_KEY=your_search_api_key_here

# =============================================================================
# AZURE OPENAI (required)
# =============================================================================
AOAI_ENDPOINT=https://your-aoai-resource.openai.azure.com/
AOAI_CHAT_DEPLOYMENT=gpt-4.1
AOAI_EMBEDDING_DEPLOYMENT=text-embedding-3-large
AOAI_API_KEY=your_aoai_api_key_here

# =============================================================================
# AZURE STORAGE (required for PDF viewing and sync)
# =============================================================================
STORAGE_CONNECTION_STRING=DefaultEndpointsProtocol=https;AccountName=your_account;AccountKey=your_key;EndpointSuffix=core.windows.net
CONTAINER_NAME=policies-active
SOURCE_CONTAINER_NAME=policies-source

# =============================================================================
# AZURE AI SEARCH INDEX (optional - defaults shown)
# =============================================================================
SEARCH_INDEX_NAME=rush-policies
SEARCH_SEMANTIC_CONFIG=default-semantic

# =============================================================================
# FEATURE FLAGS
# =============================================================================
# Enable Azure OpenAI "On Your Data" with vectorSemanticHybrid search (recommended)
USE_ON_YOUR_DATA=true

# Cohere Rerank 3.5 (cross-encoder reranking via Azure AI Foundry)
USE_COHERE_RERANK=true
COHERE_RERANK_ENDPOINT=https://your-cohere-endpoint.models.ai.azure.com
COHERE_RERANK_API_KEY=your_cohere_api_key_here
COHERE_RERANK_MODEL=cohere-rerank-v3-5
COHERE_RERANK_TOP_N=10
COHERE_RERANK_MIN_SCORE=0.25

# =============================================================================
# SECURITY (change for production)
# =============================================================================
ADMIN_API_KEY=your_secure_admin_key_here
CORS_ORIGINS=http://localhost:3000,http://localhost:5000,http://127.0.0.1:3000

# =============================================================================
# BACKEND CONFIGURATION
# =============================================================================
BACKEND_URL=http://localhost:8000
BACKEND_PORT=8000

# =============================================================================
# PRODUCTION SETTINGS (optional)
# =============================================================================
# Fail startup if critical config is missing (recommended for production)
# FAIL_ON_MISSING_CONFIG=true

# Azure AD Authentication (optional - for enterprise deployment)
# REQUIRE_AAD_AUTH=false
# AZURE_AD_TENANT_ID=
# AZURE_AD_CLIENT_ID=

# Application Insights (optional - for observability)
# APPLICATIONINSIGHTS_CONNECTION_STRING=InstrumentationKey=your_key;IngestionEndpoint=https://your_region.in.applicationinsights.azure.com/
# LOG_FORMAT=json

# =============================================================================
# OPTIONAL - RAG EVALUATION (for quality testing only)
# =============================================================================
# Used by apps/backend/evaluation/agent_evaluator.py for GroundednessProEvaluator
# Not required for normal operation
# AZURE_AI_PROJECT_ENDPOINT=https://your-ai-services.services.ai.azure.com/api/projects/your-project
